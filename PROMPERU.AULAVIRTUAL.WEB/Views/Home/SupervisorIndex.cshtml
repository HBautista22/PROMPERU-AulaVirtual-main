@model PROMPERU.AULAVIRTUAL.WEB.ViewModel.Home.SupervisorIndexViewModel

@{
    ViewBag.Title = "Dashboard";
    ViewBag.Seccion = "Index";
    ViewBag.BodyStyle = "dashboard";
}

@section Styles{
    <style>
        .widget-11 .widget-11-table tr td:first-child {
            width: 60% !important;
        }
    </style>
}

<div class="container padding-25 sm-padding-10">
    <div class="row">
        <div class="col-md-2 col-xlg-4 rectangle m-l-20 m-r-1 m-t-10 m-b-10">
            <div class="row">
                <div class="col-md-12 m-b-20">
                    <div class="widget-9 panel no-border bg-white no-margin widget-loader-bar">
                        <div class="container-xs-height full-height">
                            <div class="row-xs-height">
                                <div class="col-xs-height col-top">
                                    <div class="panel-heading  top-left top-right text-center">
                                        <div class="panel-title text-black">
                                            <span class="alumnos">
                                                Usuarios Activos
                                            </span>
                                        </div>
                                        @*<div class="panel-controls">
                                            <ul>
                                                <li>
                                                    <a href="#" class="portlet-refresh text-black" data-toggle="refresh"><i class="portlet-icon portlet-icon-refresh"></i></a>
                                                </li>
                                            </ul>
                                        </div>*@
                                    </div>
                                </div>
                            </div>
                            <div class="row-xs-height">
                                <div class="col-xs-height col-top">
                                    <div class="p-l-20 m-t-30">
                                        <h3 class="Cantidad">@Model.CantidadUsuariosActivos&nbsp;<i class="fa fa-UsuariosActivosDashbord"></i></h3>
                                        @*<span class="small hint-text">Usuarios activos en la empresa </span>*@
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>


            </div>
        </div>
        <div class="col-md-2 col-xlg-4 rectangle m-l-20 m-r-20 m-t-10 m-b-10">
            <div class="row">
                <div class="col-md-12 m-b-20">
                    <div class="widget-9 panel no-border bg-white no-margin widget-loader-bar">
                        <div class="container-xs-height full-height">
                            <div class="row-xs-height">
                                <div class="col-xs-height col-top">
                                    <div class="panel-heading  top-left top-right text-center">
                                        <div class="panel-title text-black">
                                            <span class="alumnos">
                                                Matrículas
                                            </span>
                                        </div>
                                        @*<div class="panel-controls">
                                            <ul>
                                                <li>
                                                    <a href="#" class="portlet-refresh text-black" data-toggle="refresh"><i class="portlet-icon portlet-icon-refresh"></i></a>
                                                </li>
                                            </ul>
                                        </div>*@
                                    </div>
                                </div>
                            </div>
                            <div class="row-xs-height">
                                <div class="col-xs-height col-top">
                                    <div class="p-l-20 m-t-30">
                                        <h3 class="Cantidad">@Model.CantidadUsuariosMatriculados&nbsp;<i class="fa fa-MatriculasDashbord" style="color:#FACA00"></i></h3>
                                        @*<span class="small hint-text">Usuarios matriculados en cursos pertenecientes a la empresa </span>*@
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <div class="col-md-2 col-xlg-4 rectangle m-l-20 m-r-20 m-t-10 m-b-10">

            <div class="row">
                <div class="col-md-12 m-b-20">
                    <div class="widget-9 panel no-border bg-white no-margin widget-loader-bar">
                        <div class="container-xs-height full-height">
                            <div class="row-xs-height">
                                <div class="col-xs-height col-top">
                                    <div class="panel-heading  top-left top-right text-center">
                                        <div class="panel-title text-black">
                                            <span class="alumnos">
                                                Cursos
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row-xs-height">
                                <div class="col-xs-height col-top">
                                    <div class="p-l-20 m-t-30">
                                        <h3 class="Cantidad">@Model.CantidadCursosDisponibles &nbsp;<i class="fa fa-MisCursosDashbord" style="color:#F55753"></i></h3>
                                        @*<span class="small hint-text">Cursos disponibles</span>*@
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="row">
        <div class="col-sm-12 col-md-9 col-xlg-6 col-lg-6 m-b-20">

            <div class="ar-2-2">
                <div class="widget-11 panel no-border  no-margin widget-loader-bar">
                    <div class="p-l-25 p-r-25 p-b-20">
                        <div class="pull-left">
                            <a href="@Url.Action("ListCursoOnlineAlumno", "Course")"><h2 class="usuarios">Mis Cursos</h2></a>
                        </div>
                        @*<h3 class="pull-right semi-bold"><sup><small class="semi-bold"></small></sup></h3>*@
                        <div class="clearfix"></div>
                    </div>
                    <div class="widget-11-table auto-overflow">
                        <table class="table table-condensed table-hover">
                            <tbody>
                                @foreach (var matricula in Model.LstMatriculaActual)
                                {
                                    var curso = matricula.CursoOnline;
                                    <tr>
                                        <td style="width: 7% !important;" class="text-table"><div style="background-color:@matricula.CursoOnline.CategoriaCursoOnline.Color; width: 10px;height: 10px;border-radius: 100%;"></div></td>
                                        <td class="text-table" style="width: 65%;">
                                            <a href="@Url.Action("ViewCursoOnline", "Course", new { CursoOnlineId = curso.CursoOnlineId,MatriculaCursoOnlineId = matricula.MatriculaCursoOnlineId })">@curso.Nombre</a>
                                        </td>
                                        @*<td class="text-right text-table">
                                            <span class="label @(matricula.Estado.Equals(ConstantHelpers.ESTADO_MATRICULA.APROBADO) ? "label-success" : (matricula.Estado.Equals(ConstantHelpers.ESTADO_MATRICULA.COMPLETADO) ? "label-info" : String.Empty))">@(ConstantHelpers.TextoEstado(matricula.Estado))</span>
                                        </td>*@
                                        <td class="text-table">
                                            <span style="opacity: 0.5;" class="fs-18">@matricula.PorcentajeAvance % / 100%</span>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                        <p class="p-l-10"><small>Los cursos en los cuales fue matriculado y que tengan más de 60 días sin haberlos aprobado, no se visualizarán. Comuníquese con su administrador para poder reiniciar la matrícula.</small></p>
                        <p class="p-l-10"><small>Si no se aprobó el curso en el rango de 60 días de haberse habilitado, el avance de este será reiniciado.</small></p>
                    </div>
                    @*                    <div class="padding-25">
                        <p class="small no-margin">
                            <a href="@Url.Action("ListCursoOnlineAlumno", "Course")"><i class="fa fs-16 fa-arrow-circle-o-down text-success m-r-10"></i></a>
                            <span class="hint-text ">Mas detalles</span>
                        </p>
                    </div>*@
                </div>
            </div>

        </div>

        <div class="col-sm-12 col-md-9 col-xlg-6 col-lg-6 m-b-20"">
            <div class="ar-2-2">

                <div class="widget-11 panel no-border  no-margin widget-loader-bar">
                    <div class="p-l-25 p-r-25 p-b-20">
                        <div class="pull-left">
                            <a href="@Url.Action("ListCursoOnline", "Course")"><h2 class="usuarios">Cursos Disponibles</h2></a>
                        </div>
                        <h3 class="pull-right semi-bold"><sup><small class="semi-bold"></small></sup></h3>
                        <div class="clearfix"></div>
                    </div>
                    <div class="widget-11-table auto-overflow">
                        <table class="table table-condensed table-hover">
                            <tbody>
                                @foreach (var disponibilidad in Model.LstCursosDisponibles)
                                {
                                    var curso = disponibilidad.CursoOnline;
                                    <tr>
                                        <td class="text-table">
                                            <a href="@Url.Action("ViewCursoOnline", "Course", new { CursoOnlineId = curso.CursoOnlineId })">@curso.Nombre</a>
                                        </td>
                                        <td class="text-table">
                                            <span class="hint-text small">@String.Format("{0:d MMM, yyyy}", disponibilidad.FechaInicio)</span>
                                        </td>
                                        <td class="text-right text-table">
                                            <span class="fs-18 hint-text small">@( disponibilidad.FechaFin != null ? String.Format("{0:d MMM, yyyy}", disponibilidad.FechaFin) : "Sin fecha")</span>
                                        </td>
                                    </tr>

                                }

                            </tbody>
                        </table>
                    </div>
                    @*                    <div class="padding-25">
                        <p class="small no-margin">
                            <a href="@Url.Action("ListCursoOnline", "Course")"><i class="fa fs-16 fa-arrow-circle-o-down text-success m-r-10"></i></a>
                            <span class="hint-text ">Mas detalles</span>
                        </p>
                    </div>*@
                </div>
            </div>
        </div>
    </div>
</div>
